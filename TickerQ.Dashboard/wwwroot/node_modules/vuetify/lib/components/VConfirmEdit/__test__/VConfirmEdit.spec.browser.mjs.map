{"version":3,"file":"VConfirmEdit.spec.browser.mjs","names":["VConfirmEdit","render","screen","userEvent","nextTick","shallowRef","describe","it","externalModel","_createVNode","value","default","_ref","model","expect","getByText","toBeInTheDocument","$event","_ref2","_Fragment","join","onClick","push","_createTextVNode","click","getByTestId","toEqual","getAllByCSS","toHaveLength","_ref3","_ref4","actions","queryAllByCSS","_ref5"],"sources":["../../../../src/components/VConfirmEdit/__test__/VConfirmEdit.spec.browser.tsx"],"sourcesContent":["// Components\nimport { VConfirmEdit } from '../'\n\n// Utilities\nimport { render, screen, userEvent } from '@test'\nimport { nextTick, shallowRef } from 'vue'\n\ndescribe('VConfirmEdit', () => {\n  it('mirrors external updates', async () => {\n    const externalModel = shallowRef('foo')\n\n    render(() => (\n      <VConfirmEdit modelValue={ externalModel.value }>\n        { ({ model }) => (\n          <p>{ model.value }</p>\n        )}\n      </VConfirmEdit>\n    ))\n\n    expect(screen.getByText('foo')).toBeInTheDocument()\n\n    externalModel.value = 'bar'\n    await nextTick()\n    expect(screen.getByText('bar')).toBeInTheDocument()\n  })\n\n  it(\"doesn't mutate the original value\", async () => {\n    const externalModel = shallowRef(['foo'])\n\n    render(() => (\n      <VConfirmEdit v-model={ externalModel.value } modelValue={ externalModel.value }>\n        { ({ model }) => (\n          <>\n            <p>{ model.value.join(',') }</p>\n            <button data-testid=\"push\" onClick={ () => model.value.push('bar') }>Push</button>\n          </>\n        )}\n      </VConfirmEdit>\n    ))\n\n    expect(screen.getByText('foo')).toBeInTheDocument()\n\n    await userEvent.click(screen.getByTestId('push'))\n    expect(screen.getByText('foo,bar')).toBeInTheDocument()\n    expect(externalModel.value).toEqual(['foo'])\n\n    await userEvent.click(screen.getByText('OK'))\n    expect(externalModel.value).toEqual(['foo', 'bar'])\n  })\n\n  describe('hides actions if used from the slot', () => {\n    it('nothing', () => {\n      render(() => <VConfirmEdit />)\n      expect(screen.getAllByCSS('button')).toHaveLength(2)\n    })\n\n    it('consume model', () => {\n      render(() => (\n        <VConfirmEdit>\n          { ({ model }) => {\n            void model\n          }}\n        </VConfirmEdit>\n      ))\n      expect(screen.getAllByCSS('button')).toHaveLength(2)\n    })\n\n    it('consume actions', () => {\n      render(() => (\n        <VConfirmEdit>\n          { ({ actions }) => {\n            void actions\n          }}\n        </VConfirmEdit>\n      ))\n      expect(screen.queryAllByCSS('button')).toHaveLength(0)\n    })\n\n    it('render actions', () => {\n      render(() => (\n        <VConfirmEdit>\n          { ({ actions }) => actions() }\n        </VConfirmEdit>\n      ))\n      expect(screen.getAllByCSS('button')).toHaveLength(2)\n    })\n  })\n})\n"],"mappings":"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","ignoreList":[]}